<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุณูุฉ ุงูุชุณูู - Dark shop</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <style>
        /* CSS ุฎุงุต ุจุงูุณูุฉ */
        .cart-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
            background-color: rgb(70, 70, 194);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: blue;
        }

        img {
            border-radius: 8px;
        }

        input.quantity-input {
            width: 60px;
            padding: 5px;
            border-radius: 6px;
            border: 1px solid #ccc;
            text-align: center;
        }

        button {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            background-color: #2c3e50;
            color: #fff;
            cursor: pointer;
        }

        button:hover {
            background-color: #34495e;
        }

        .cart-summary {
            margin-top: 20px;
            text-align: right;
            font-size: 18px;
        }

        .cart-summary h3 {
            margin-bottom: 10px;
        }

        #checkout-btn {
            background-color: #27ae60;
        }

        #checkout-btn:hover {
            background-color: #2ecc71;
        }

        .cart-hero {
            text-align: center;
            margin-top: 30px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<!-- ุงูููุฏุฑ -->
<header class="top-header">
    <div class="logo">Dark shop</div>
    <div class="addProduct">
        <a href="/addProduct.html">ุฅุถุงูุฉ ููุชุฌ ๐๏ธ</a>
    </div>
    <div class="search-bar">
        <input type="text" placeholder="ุงุจุญุซ ุนู ููุชุฌุงุชุ ุนูุงูุงุช ุชุฌุงุฑูุฉ ูุงููุฒูุฏ...">
        <button>ุจุญุซ</button>
    </div>
    <div class="header-icons">
        <a href="#">ุงูุญุณุงุจ</a>
        <a href="#">ุงูุทูุจุงุช</a>
        <div id="count">
            ๐ <span id="counter">0</span>
            <a href="/cart.html">ุงูุณูุฉ</a>
        </div>
    </div>
</header>

<!-- ุนููุงู ุงูุตูุญุฉ -->
<section class="cart-hero">
    <h1>ุณูุฉ ุงูุชุณูู ุงูุฎุงุตุฉ ุจู</h1>
    <p>ุชุฃูุฏ ูู ููุชุฌุงุชู ูุจู ุฅุชูุงู ุงูุทูุจ</p>
</section>

<!-- ุณูุฉ ุงูููุชุฌุงุช -->
<section class="cart-container">
    <table id="cart-table">
        <thead>
            <tr>
                <th>ุตูุฑุฉ ุงูููุชุฌ</th>
                <th>ุงุณู ุงูููุชุฌ</th>
                <th>ุงูุณุนุฑ</th>
                <th>ุงููููุฉ</th>
                <th>ุงูุฅุฌูุงูู</th>
                <th>ุญุฐู</th>
            </tr>
        </thead>
        <tbody id="cart-items">
            <!-- ุณูุชู ุฅุถุงูุฉ ุงูููุชุฌุงุช ุจุงููJS -->
        </tbody>
    </table>

    <div class="cart-summary">
        <h3>ุฅุฌูุงูู ุงูุณูุฉ: <span id="cart-total">0</span> ุฌููู</h3>
        <button id="checkout-btn">ุฅุชูุงู ุงูุดุฑุงุก</button>
    </div>
</section>

<!-- ููุชุฑ -->
<footer>
    <div class="footer-top">
        <div class="footer-section">
            <h4>ุนู Dark shop</h4>
            <a href="#">ูู ูุญู</a>
            <a href="#">ุงูุถู ุฅูููุง</a>
            <a href="#">ุงููุฏููุฉ</a>
            <a href="#">ุชูุงุตู ูุนูุง</a>
        </div>
        <div class="footer-section">
            <h4>ุฎุฏูุฉ ุงูุนููุงุก</h4>
            <a href="#">ูุณุงุนุฏุฉ</a>
            <a href="#">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a>
            <a href="#">ุณูุงุณุฉ ุงูุฅุฑุฌุงุน</a>
            <a href="#">ุทุฑู ุงูุฏูุน</a>
        </div>
        <div class="footer-section">
            <h4>ุญุณุงุจู</h4>
            <a href="#">ุชุณุฌูู ุงูุฏุฎูู</a>
            <a href="#">ุทูุจุงุชู</a>
            <a href="#">ุงูููุถูุฉ</a>
            <a href="#">ุงูุนูุงููู</a>
        </div>
        <div class="footer-section">
            <h4>ุณูุงุณุงุช</h4>
            <a href="#">ุงูุดุฑูุท ูุงูุฃุญูุงู</a>
            <a href="#">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
            <a href="#">ุงูุฃูุงู ูุงูุจูุงูุงุช</a>
        </div>
    </div>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];

const cartItemsContainer = document.getElementById('cart-items');
const cartTotal = document.getElementById('cart-total');
const counter = document.getElementById('counter');

function renderCart() {
    cartItemsContainer.innerHTML = '';
    let total = 0;

    cart.forEach((item, index) => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;

        cartItemsContainer.innerHTML += `
            <tr>
                <td><img src="${item.image}" alt="${item.name}" width="50"></td>
                <td>${item.name}</td>
                <td>${item.price}</td>
                <td>
                    <input type="number" min="1" value="${item.quantity}" data-index="${index}" class="quantity-input">
                </td>
                <td>${itemTotal}</td>
                <td><button data-index="${index}" class="remove-btn">ุญุฐู</button></td>
            </tr>
        `;
    });

    cartTotal.textContent = total;
    counter.textContent = cart.reduce((acc, item) => acc + item.quantity, 0);
    attachEvents();
}

function attachEvents() {
    document.querySelectorAll('.remove-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const index = e.target.dataset.index;
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
    });

    document.querySelectorAll('.quantity-input').forEach(input => {
        input.addEventListener('change', (e) => {
            const index = e.target.dataset.index;
            cart[index].quantity = parseInt(e.target.value);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
    });

    document.getElementById('checkout-btn').addEventListener('click', () => {
        if(cart.length === 0){
            alert("ุงูุณูุฉ ูุงุฑุบุฉ!");
            return;
        }
        alert("ุชู ุฅุชูุงู ุงูุดุฑุงุก ุจูุฌุงุญ!");
        cart = [];
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
    });
}

renderCart();
</script>
</body>
</html>
