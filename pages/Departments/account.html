<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø³Ø§Ø¨ÙŠ - MyShop</title>
<link rel="stylesheet" href="assets/css/style.css">
<style>
body { font-family:'Cairo',sans-serif; background:#000; color:#fff; margin:0; }
.account-container { max-width:900px; margin:50px auto; background:#111; border:1px solid #222; border-radius:10px; padding:30px; display:flex; flex-direction:column; gap:30px; }
.account-header { text-align:center; color:#00BFFF; font-size:24px; font-weight:bold; }
.account-section { display:flex; flex-direction:column; gap:15px; }
.account-section label { display:block; margin-bottom:5px; }
.account-section input { width:100%; padding:10px; border-radius:6px; border:1px solid #222; background:#000; color:#fff; }
.account-section button { width:fit-content; padding:10px 20px; background:#00BFFF; color:#fff; border:none; border-radius:6px; cursor:pointer; }
.account-section button:hover { background:#009ACD; }
.orders-list { background:#111; border:1px solid #222; border-radius:6px; padding:15px; }
.orders-list div { display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #222; padding-bottom:5px; }
.orders-list div:last-child { border-bottom:none; }
.orders-list button { padding:4px 8px; background:#00BFFF; border:none; border-radius:4px; cursor:pointer; color:#fff; }
.orders-list button:hover { background:#009ACD; }
</style>

</head>
<body>
    <header class="top-header">
    <div class="logo">Dark shop</div>
    <a href="index.html" class="home"></a>
    <div class="addProduct" id="addProductContainer" style="display:none;">
    <a href="/addProduct.html">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ ğŸ› ï¸</a>
</div>

    <div class="search-bar">
        <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬Ø§ØªØŒ Ø¹Ù„Ø§Ù…Ø§Øª ØªØ¬Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø²ÙŠØ¯...">
        <button>Ø¨Ø­Ø«</button>
    </div>

    <div class="header-icons">
        <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="account.html">Ø§Ù„Ø­Ø³Ø§Ø¨</a>
        <a href="#">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</a>

        <!-- âœ… Ø®Ù„Ù‰ Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¯Ø§Ø®Ù„ Ø¹Ù†ØµØ± Ù…Ù†ÙØµÙ„ -->
        <div id="count">
            ğŸ›’ <span id="counter">0</span>
            <a href="chart.html">Ø§Ù„Ø³Ù„Ø©</a>
        </div>
    </div>
</header>
<div class="account-container">
    <div class="account-header">Ø­Ø³Ø§Ø¨ÙŠ</div>

    <div class="account-section">
        <h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
        <label for="username">Ø§Ù„Ø§Ø³Ù…:</label>
        <input type="text" id="username">
        <label for="email">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:</label>
        <input type="email" id="email">
        <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
        <input type="password" id="password">
        <button id="saveData">Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        <button id="logoutBtn" style="background:red; margin-top:10px;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
    </div>

    <div class="account-section">
        <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h3>
        <div class="orders-list" id="ordersList">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯.</div>
    </div>
</div>

<script>
const userData = JSON.parse(localStorage.getItem("user"));
if(!userData){
    alert("âŒ ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ù‹Ø§!");
    window.location.href = "login.html";
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
const usernameInput = document.getElementById("username");
const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
usernameInput.value = userData.name;
emailInput.value = userData.email;
passwordInput.value = userData.password;

// Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
document.getElementById("saveData").addEventListener("click", () => {
    const name = usernameInput.value.trim();
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();
    if(!name || !email || !password){ alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!"); return; }

    localStorage.setItem("user", JSON.stringify({ name, email, password }));
    alert("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!");
});

// ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
document.getElementById("logoutBtn").addEventListener("click", () => {
    localStorage.removeItem("user");
    alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬!");
    window.location.href = "login.html";
});

// Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
const cart = JSON.parse(localStorage.getItem("cart")) || [];
const ordersList = document.getElementById("ordersList");

function displayOrders(){
    if(cart.length===0){ ordersList.innerHTML="Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯."; return; }
    ordersList.innerHTML="";
    cart.forEach((item,index)=>{
        const div = document.createElement("div");
        div.innerHTML = `<span>${item.name} - ${item.quantity} Ã— ${item.price} Ø¬Ù†ÙŠÙ‡</span>
        <button data-index="${index}" class="deleteOrder">Ø­Ø°Ù</button>`;
        ordersList.appendChild(div);
    });
    document.querySelectorAll(".deleteOrder").forEach(btn=>{
        btn.addEventListener("click", e=>{
            const i = e.target.dataset.index;
            cart.splice(i,1);
            localStorage.setItem("cart",JSON.stringify(cart));
            displayOrders();
        });
    });
}

displayOrders();
// âœ… Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø·
const addProductContainer = document.getElementById("addProductContainer");

if (userData && userData.role === "admin") {
    addProductContainer.style.display = "block";
} else {
    addProductContainer.style.display = "none";
}

</script>

</body>
</html>
